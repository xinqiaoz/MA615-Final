---
title: "MA615 Final Project"
author: "Xinqiao Zhang"
date: "12/11/2019"
output: 
  pdf_document:
    latex_engine: xelatex
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, out.width="0.9\\linewidth",dev="pdf",fig.align  = 'center')
pacman::p_load(
  "tidyverse",
  "ggplot2", 
  "httr", 
  "jsonlite", 
  "lubridate", 
  "janitor", 
  "ggmap", 
  "leaflet"
)
```

## Introduction  
### Background  
\qquad Nowadays, we can see more and more electric vehicles in the streets than we used to do. Electric cars have many obvious advantages comparing to gasoline cars. For instance, Tesla, as one of the largest electric vehicle manufacturer, has earned a reputation from customers. It is also important to know that all the models that Tesla has sold were electric vehicles. This means that electric vehicle business has started to get prosper.   
\qquad By this notion, I would like to check the distribution of electric vehicle charging station to get a better understanding on how convenient it would be for electric vehicle owner to recharge.  
### Task  
\qquad In this report, I would like to use the data of eletric vehicle charging stations in the U.S. and Canada to see if there is any place that an electric veihicle could not reach on this continent.  

## Data  
\qquad The data I obtained was from the U.S. Department of Energy, and their website is https://afdc.energy.gov/fuels/electricity_locations.html#/find/nearest?fuel=ELEC. From the description, there are 28,347 charging stations and 79,853 chargin outlets in the U.S. and Canada. Hence it would be less effective to process this amount of data through API.  

```{r}
data_raw<- read.csv("~/Desktop/BU/MA615/FinalProj/alt_fuel_stations.csv")
length(data_raw)
```
### Variables  
\qquad As we can see, there are 64 variables in this dataset but many of them has missing values or even missing columns. Thus we need to clean the data before we carry out any further study.   

```{r}
data_0<- remove_empty(data_raw, c("cols"))
length(data_0)
```
\qquad We first removed 24 empty columns. Then we should remove those columns with variables which are vague and not useful to our study. For example, "expected_date" represent "the date the station is expected to open or start carrying alternative fuel".  
\qquad However, this step could be subjective and we should be careful with it.  
```{r}
data_0<- data_0[-c(1, 9, 12, 13, 15, 16, 18, 26, 27, 31, 32, 33, 35, 36, 39, 40)]
```


## Exploratory Data Analysis   
### 

```{r}
summary(data_0$Country)
leaflet(data_0) %>% addMarkers(lng = data_0$Longitude, lat=data_0$Latitude)
```

\qquad As we can see that there are 23504 charging stations in the U.S. while only 4843 in Canada.  






## Reference  
[1]Data source: 
https://afdc.energy.gov/fuels/electricity_locations.html#/find/nearest?fuel=ELEC.    
[2]Variable Explanation: 
https://developer.nrel.gov/docs/transportation/alt-fuel-stations-v1/all/.    










